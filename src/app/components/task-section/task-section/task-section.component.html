<mat-card class="example-container">
  <h5 style="text-transform: uppercase; text-align: center">
    {{ title }} - {{ tasks?.length ? tasks.length : 0 }}
  </h5>
  <div
    cdkDropList
    [cdkDropListData]="tasks"
    class="example-list"
    (cdkDropListDropped)="drop($event)"
  >
    <div *ngFor="let taskData of tasks">
      <app-task
        [taskName]="taskData.name"
        [taskDesc]="taskData.desc"
      ></app-task>
    </div>
  </div>
  <div *ngIf="createTaskBool; else elseBlock">
    <form
      [formGroup]="createTaskForm"
      style="display: flex; width: 100%; margin-top: 1em; align-items: center"
    >
      <mat-form-field>
        <mat-label>Kártyanév</mat-label>
        <input
          matInput
          type="text"
          appearance="fill"
          formControlName="taskNameCtrl"
          placeholder="Pl.: Ez egy kártyanév."
        />
        <mat-error *ngIf="taskNameCtrl?.invalid && taskNameCtrl?.touched">
          Kötelező!
        </mat-error>
      </mat-form-field>
      <div style="width: 100%"></div>
      <button
        mat-icon-button
        [disabled]="createTaskForm.invalid"
        (click)="createTaskAction()"
      >
        <mat-icon color="accent">add</mat-icon>
      </button>
    </form>
  </div>
  <ng-template #elseBlock>
    <div
      style="
        display: flex;
        justify-content: center;
        width: 100%;
        margin-top: 1em;
      "
    >
      <button mat-raised-button color="primary" (click)="createTask()">
        Kártya létrehozása
      </button>
    </div>
  </ng-template>
</mat-card>
